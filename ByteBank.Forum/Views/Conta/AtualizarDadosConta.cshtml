@model ByteBank.Forum.ViewModels.ContaDadosMinhaContaViewModel
@{
    ViewBag.Title = "AtualizarDadosConta";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Minha Conta</h2>

@using (Html.BeginForm("EsquecerNavegador", "Conta", FormMethod.Post, new { id = "formularioEsquecerNavegador" }))
{
}

@using (Html.BeginForm("DeslogarDeTodosOsLocais", "Conta", FormMethod.Post, new { id = "formularioDeslogarDeTodosOsLocais" }))
{
}

@using (Html.BeginForm())
{
    <h4>Complete o cadastro de sua conta.</h4>
    <hr />

    @Html.ValidationSummary("", new { @class = "text-danger" })

    @Html.LabelFor(model => model.NomeCompleto)
    <br />
    @Html.EditorFor(modelo => modelo.NomeCompleto)
    <br />

    @Html.LabelFor(model => model.Celular)
    <br />
    @Html.EditorFor(modelo => modelo.Celular)
    <br />

    if (Model.CelularConfirmado)
    {
        @Html.LabelFor(model => model.HabilitarAutenticacaoDoisFatores)
        <br />
        @Html.EditorFor(modelo => modelo.HabilitarAutenticacaoDoisFatores)
        <br /><br />
        <a href="javascript:document.getElementById('formularioEsquecerNavegador').submit();">Esquecer este navegador</a>
    }
    else
    {
        <p>
            * Informe e confirme seu celular para habilitar a autenticação com dois fatores.
        </p>

        @Html.ActionLink("Clique aqui para verificar o token recebido", "VerificarCodigoCelular");
    }

    <br />
    <a href="javascript:document.getElementById('formularioDeslogarDeTodosOsLocais').submit();"> Deslogar de todos os locais</a>

    <div class="clearfix"><br /></div>
    <div class="form-group">
        <div class="col-md-2" style="padding-left: 0px;">
            <input type="submit" value="Salvar" class="btn btn-success" />
        </div>
    </div>
    <div class="clearfix"></div>
}

